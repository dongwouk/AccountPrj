# **Account Management System**

Spring Boot와 Java를 활용하여 **Account(계좌 관리)** 시스템을 개발합니다. 사용자 및 계좌 정보를 기반으로 다양한 금융 거래를 관리하는 기능을 제공합니다.



## **프로젝트 정보**
- **프레임워크**: Spring Boot
- **DB**: H2 Database
- **ORM**: Spring Data JPA
- **캐싱**: Embedded Redis
- **API 문서화**: Swagger ([API Documentation](http://localhost:8081/swagger-ui/index.html#))
- **테스트**: 단위 테스트를 통한 코드 검증
- **API 요청/응답 형식**: JSON
- **에러 처리**: 요청 처리 실패 시 공통된 에러 응답 구조 제공



## **주요 기능**
### **1. 계좌 관리 API**
#### - 계좌 생성
- **파라미터**: 사용자 ID, 초기 잔액
- **성공 결과**:
  - 생성된 계좌번호(10자리 랜덤 숫자)
  - 사용자 ID
  - 등록일시
- **실패 조건**:
  - 사용자 정보가 없는 경우
  - 사용자당 최대 계좌 보유 한도(10개)를 초과한 경우
- **주의사항**:
  - 계좌 번호는 10자리 랜덤문자로 생성되며, 중복 여부 확인
  - 계좌 번호는 순차 증가 또는 랜덤 생성 방식 적용 가능

#### - 계좌 해지
- **파라미터**: 사용자 ID, 계좌 번호
- **성공 결과**:
  - 사용자 ID
  - 계좌 번호
  - 해지 일시
- **실패 조건**:
  - 사용자 정보가 없는 경우
  - 계좌 소유자가 일치하지 않는 경우
  - 이미 해지된 계좌
  - 잔액이 남아 있는 경우

#### - 계좌 조회
- **파라미터**: 사용자 ID
- **성공 결과**:
  - 계좌번호 및 잔액 리스트(JSON 형식)
- **실패 조건**:
  - 사용자 정보가 없는 경우



### **2. 거래 관리 API**
#### - 잔액 사용
- **파라미터**: 사용자 ID, 계좌 번호, 거래 금액
- **성공 결과**:
  - 계좌 번호
  - 거래 결과(transaction_result)
  - 거래 ID
  - 거래 금액
  - 거래 일시
- **실패 조건**:
  - 사용자 정보가 없는 경우
  - 계좌 소유자가 다른 경우
  - 계좌가 해지 상태인 경우
  - 잔액이 부족한 경우
  - 거래 금액이 너무 작거나 큰 경우

#### - 잔액 사용 취소
- **파라미터**: 거래 ID, 계좌 번호, 취소 금액
- **성공 결과**:
  - 계좌 번호
  - 거래 결과(transaction_result)
  - 거래 ID
  - 취소 거래 금액
  - 거래 일시
- **실패 조건**:
  - 원 거래 금액과 취소 금액이 불일치
  - 트랜잭션이 해당 계좌의 거래가 아닌 경우

#### - 거래 조회
- **파라미터**: 거래 ID
- **성공 결과**:
  - 계좌 번호
  - 거래 종류(잔액 사용, 잔액 사용 취소)
  - 거래 결과(transaction_result)
  - 거래 ID
  - 거래 금액
  - 거래 일시
- **실패 조건**:
  - 해당 거래 ID가 존재하지 않는 경우
- **특이사항**:
  - 성공 및 실패한 거래 모두 조회 가능



## **고려 사항**
- **데이터 동시성 문제 해결**:
  - 다중 쓰레드 및 인스턴스 환경에서 동일 계좌 접근 시 발생할 수 있는 `lost update` 문제를 방지하는 동시성 제어 로직 구현 필요.
- **기본 사용자 데이터**:
  - 프로젝트 시작 시 초기 사용자 데이터 자동 입력.
- **테스트 코드 작성**:
  - 모든 주요 로직에 대한 단위 테스트 작성 및 검증.


